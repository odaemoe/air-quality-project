\# WORKLOG: Агрегатор «Качество воздуха \+ Погода»  
   
Хронологический журнал работы над проектом — от сбора данных до финального дашборда.  
   
\---  
   
\#\#\# 01.02.2026 10:00 — Планирование проекта  
\- Определена цель: анализ взаимосвязи между качеством воздуха (PM2.5, PM10, NO₂, O₃) и погодными условиями (температура, влажность, ветер)  
\- Выбраны города для анализа: Москва, Париж, Берлин  
\- Период данных: 15–28 января 2025 г. (зимний период для усиления эффекта отопления)  
\- Структура проекта:  
  • Папка \`data/\` — исходные CSV-файлы  
  • Папка \`processed/\` — обработанные данные  
  • Документация: ADR.md, ARCHITECTURE.md, DATA\_README.md, WORKLOG.md  
   
\---  
   
\#\#\# 10:30 — Сбор данных через Google Colab  
\- Написан Python-скрипт для получения погодных данных через Open-Meteo API  
\- Сгенерированы синтетические данные по загрязнителям с учётом:  
  • Ночных пиков загрязнения (отопление)  
  • Корреляции с температурой (обратная связь)  
  • Городских особенностей (Москва — сильнее отопление, Париж — умереннее)  
\- Скачаны 6 CSV-файлов:  
  • \`moscow\_air.csv\`, \`moscow\_weather.csv\`  
  • \`paris\_air.csv\`, \`paris\_weather.csv\`  
  • \`berlin\_air.csv\`, \`berlin\_weather.csv\`  
\- Все файлы сохранены в папку \`air-quality-project\`  
   
\---  
   
\#\#\# 11:15 — Импорт данных в Excel  
\- Открыт новый файл Excel для обработки  
\- Импортированы все 6 CSV-файлов как отдельные листы  
\- Проверена структура данных:  
  • \`datetime\` — дата и время измерения  
  • \`city\` — название города  
  • \`pm25\`, \`pm10\`, \`no2\`, \`o3\` — концентрация загрязнителей (мкг/м³)  
  • \`temperature\_c\`, \`humidity\_pct\`, \`wind\_speed\_kmh\` — погодные параметры  
\- Обнаружена проблема: числа с запятой (локаль РФ) вместо точки  
   
\---  
   
\#\#\# 11:45 — Исправление формата чисел  
\- Выделены все числовые колонки (C–I)  
\- Через «Формат ячеек» → «Числовой» установлен разделитель «точка»  
\- Проверено: все числа отображаются как \`30.3\`, а не \`30,3\`  
\- Сохранено как черновик: \`air\_quality\_raw.xlsx\`  
   
\---  
   
\#\#\# 12:10 — Объединение таблиц через ВПР  
\- Создан новый лист \`combined\`  
\- Для Москвы:  
  • В колонку G добавлена формула: \`=ВПР(A2; moscow\_weather\!$A$2:$E$337; 3; ЛОЖЬ)\`  
  • Расширено для всех погодных параметров (температура, влажность, ветер)  
  • Обёрнуто в \`ЕСЛИОШИБКА\` для обработки несовпадающих временных меток:  
    \`=ЕСЛИОШИБКА(ВПР(...); "")\`  
\- Повторено для Парижа и Берлина  
\- Результат: единая таблица с 301 строкой (100 строк × 3 города)  
   
\---  
   
\#\#\# 13:00 — Фильтрация и подготовка к анализу  
\- Отфильтрованы первые 100 строк для первичного анализа (Москва)  
\- Удалены строки с пустыми значениями в ключевых колонках  
\- Проверена целостность данных:  
  • Нет ошибок \`\#Н/Д\` в числовых колонках  
  • Все даты в формате \`ГГГГ-ММ-ДД ЧЧ:ММ:СС\`  
  • Города корректно распределены по колонке \`city\`  
   
\---  
   
\#\#\# 13:30 — Расчёт корреляции (общая)  
\- В ячейку J2 введена формула: \`=КОРРЕЛ(C2:C101; G2:G101)\`  
  • C \= pm25, G \= temperature\_c  
\- Получен коэффициент корреляции: \*\*-0.13\*\*  
\- Интерпретация: слабая обратная корреляция между температурой и PM2.5  
\- Причины слабой корреляции:  
  • Ограниченный объём данных (100 измерений)  
  • Шум в синтетически сгенерированных данных  
  • Низкая вариативность температуры в январский период  
   
\---  
   
\#\#\# 14:00 — Расчёт корреляции по городам  
\- Создан новый лист \`analysis\` для хранения результатов  
\- Рассчитана корреляция для каждого города отдельно:  
  • Москва: \`=КОРРЕЛ(ЕСЛИ(объединённый\_лист\!B2:B101="Moscow"; объединённый\_лист\!C2:C101; ""); ЕСЛИ(объединённый\_лист\!B2:B101="Moscow"; объединённый\_лист\!G2:G101; ""))\` → \*\*-0.13\*\*  
  • Берлин: аналогичная формула → \*\*-0.28\*\*  
  • Париж: аналогичная формула → \*\*-0.15\*\*  
\- Добавлена интерпретация:  
  • Москва: слабая обратная связь (шум в данных)  
  • Берлин: умеренная обратная связь (влияние отопления)  
  • Париж: слабая обратная связь (городские особенности)  
   
\---  
   
\#\#\# 14:30 — Сохранение обработанных данных  
\- Файл сохранён как \`processed/air\_quality\_combined.xlsx\`:  
  • Лист \`combined\` — 300+ строк данных по 3 городам  
  • Лист \`analysis\` — результаты корреляции  
\- Экспортирован лист \`combined\` как \`processed/air\_quality\_powerbi.csv\`:  
  • Формат: CSV UTF-8  
  • Числа автоматически конвертированы в международный формат (точка как разделитель)  
\- Проверено в TextEdit: числа отображаются как \`30.3\`, даты без искажений  
   
\---  
   
\#\#\# 15:00 — Регистрация в Яндекс Даталенс  
\- Открыт \[datalens.yandex.ru\](https://datalens.yandex.ru/)  
\- Вход через личный Яндекс-аккаунт (mashakartashova04@yandex.ru)  
\- Создан новый воркбук: \`Проект: Воздух \+ Погода\`  
   
\---  
   
\#\#\# 15:20 — Подключение данных через Google Sheets  
\- Открыт \[sheets.google.com\](https://sheets.google.com/)  
\- Импортирован файл \`air\_quality\_powerbi.csv\`  
\- В Даталенсе: «Создать датасет» → «Google Таблицы» → выбрана таблица  
\- Датасет создан: \`air\_quality\_combined\_data...\`  
\- Настройка типов данных  
\- Проверены и исправлены типы для всех колонок:  
  • \`datetime\` → «Дата и время»  
  • \`city\` → «Строка»  
  • \`pm25\`, \`pm10\`, \`no2\`, \`o3\`, \`temperature\_c\`, \`humidity\_pct\`, \`wind\_speed\_kmh\` → «Число»  
\- Сохранён датасет как: \`Качество воздуха — 3 города\`  
   
\---  
   
\#\#\# 16:30 — Создание дашборда  
\- Создан новый дашборд на основе датасета \`Качество воздуха — 3 города\`  
\- Добавлен линейный график:  
  • Ось X: \`datetime\` (без агрегации)  
  • Ось Y: \`pm25\` (среднее)  
  • Цвет: \`city\`  
  • Название: «Динамика PM2.5 по городам»  
\- Добавлена точечная диаграмма:  
  • Ось X: \`temperature\_c\` (среднее)  
  • Ось Y: \`pm25\` (среднее)  
  • Цвет точек: \`city\`  
  • Название: «Корреляция: температура vs PM2.5»  
\-Детализация по городам  
\- Добавлены 3 текстовых блока с корреляцией для каждого города:  
  • Москва: \-0.13 (слабая обратная связь)  
  • Берлин: \-0.28 (умеренная обратная связь)  
  • Париж: \-0.15 (слабая обратная связь)  
\- Расположены блоки под точечной диаграммой для наглядности  
\- Добавлены фильтры:  
  • Фильтр по городу (список)  
  • Фильтр по периоду (диапазон дат)  
\-Финализация проекта  
\- Дашборд сохранён как: \`Агрегатор качества воздуха\`  
\- Опубликован с публичной ссылкой https://datalens.yandex/unx30nwgogyse
   
 

